{"mappings":"i/oHAMO,MAAMA,EAAW,CAAC,EAAC,GAAI,GAAK,EAAC,EAAI,GAAI,CAAC,GAAG,IAEnCC,EAAQD,EAASE,OAYjBC,EAAYH,EAASI,aCpBlCC,EAAe,oHCcf,MAAMC,EAAOC,EAAAC,EAAA,GAEPC,EAAqBH,EAAK,CAC5BI,KAAMJ,EAAKK,KAAK,QAChBC,KAAMN,EAAKK,KAAK,QAChBE,WAAY,CAAEC,SAAUX,GACxBY,SAAU,CAENC,MAAOV,EAAKW,QAAQ,iBACpBC,OAAQZ,EAAKW,QAAQ,yBAEzBhB,IAGEkB,EAAQ,CAAEC,MAAO,CAAC,EAAG,EAAG,EAAG,GAAIC,MAAO,EAAGC,QAAS,GAElDC,EAAU,CACZ,CAAEC,KAAM,SAAUd,KAAMH,EC/Bb,gQD+BsBK,KAAML,EAAAF,IACvC,CAAEmB,KAAM,aAAcd,KAAMH,EEhCjB,2OFgCyBK,KAAML,EAAAF,IAC1C,CAAEmB,KAAM,aAASjB,EGjCN,uIHiCYA,EIjCZ,iMJoCf,IAAIkB,WAEKC,GAAQC,KAAMC,IACnBtB,EAAKuB,OACLvB,EAAKwB,MAAMX,GAGX,MAAMY,EAAIH,EAAEL,EAAQrB,OAEpBuB,EAASF,EAAQQ,GACjBC,QAAQC,IAAG,UAAWF,OAAON,EAAOD,QAASC,GAC7ChB,EAAmBgB,GAGvB,MAAMS,EAAI,IAAS5B,EAAK6B,KAAKT,GAE7BU,SAASC,iBAAiB,QAASH,GACnCA","sources":["dist/esm/index.js","uv.frag.glsl","demo/index.js","uv-ndc.vert.glsl","uv-texture.vert.glsl","index.vert.glsl","index.frag.glsl"],"sourcesContent":["/**\n * The 3 vertices of a 2D triangle covering the viewport in NDC coordinates ([-1, 1]).\n *\n * @export\n * @type {array.<array.<number>>}\n */\nexport const vertices = [[-1, -1], [-1, 4], [4, -1]];\n\nexport const count = vertices.length;\nexport const dim = 2;\n\n/**\n * The flat array of the above triangle, to be bound as a WebGL attribute buffer for\n * rendering the triangle in the vertex shader.\n * These positions will result in clipped NDC coordinates ([-1, 1]) over the\n * viewport's width and height.\n *\n * @export\n * @type {array.<number>}\n */\nexport const positions = vertices.flat();\n\nexport default positions;\n","precision highp float;\n\nvarying vec2 uv;\n\nvoid main() { gl_FragColor = vec4(uv, 0, 1); }\n","// Any rendering library, but made with `regl` in mind.\nimport getRegl from 'regl';\n\n// The position attributes.\nimport { positions, count } from '../';\n\n// The various shader examples.\nimport vert from '../index.vert.glsl';\nimport vertNDC from '../uv-ndc.vert.glsl';\nimport vertST from '../uv-texture.vert.glsl';\n\nimport frag from '../index.frag.glsl';\nimport fragUV from '../uv.frag.glsl';\n\nconst regl = getRegl();\n\nconst drawScreenTriangle = regl({\n    vert: regl.prop('vert'),\n    frag: regl.prop('frag'),\n    attributes: { position: positions },\n    uniforms: {\n        // These are only used for the `index.frag.glsl` shader.\n        width: regl.context('viewportWidth'),\n        height: regl.context('viewportHeight')\n    },\n    count\n});\n\nconst clear = { color: [0, 0, 0, 1], depth: 1, stencil: 0 };\n\nconst shaders = [\n    { name: 'uv-ndc', vert: vertNDC, frag: fragUV },\n    { name: 'uv-texture', vert: vertST, frag: fragUV },\n    { name: 'index', vert, frag }\n];\n\nlet shader;\n\nfunction frame({ tick: t }) {\n    regl.poll();\n    regl.clear(clear);\n\n    // Switch shader every frame.\n    const s = t%shaders.length;\n\n    shader = shaders[s];\n    console.log(`Shader ${s}: '${shader.name}'`, shader);\n    drawScreenTriangle(shader);\n}\n\nconst draw = () => regl.draw(frame);\n\ndocument.addEventListener('click', draw);\ndraw();\n","precision highp float;\n\nattribute vec2 position;\n\nvarying vec2 uv;\n\n// Flips the y-axis to point downwards.\nconst vec2 flip = vec2(1, -1);\n\nvoid main() {\n    uv = position*flip;\n    gl_Position = vec4(position, 0, 1);\n}\n","precision highp float;\n\nattribute vec2 position;\n\nvarying vec2 uv;\n\nvoid main() {\n    // Transform UV NDC to texture coordinates.\n    uv = (position*0.5)+0.5;\n    gl_Position = vec4(position, 0, 1);\n}\n","precision highp float;\n\nattribute vec2 position;\n\nvoid main() { gl_Position = vec4(position, 0, 1); }\n","precision highp float;\n\nuniform float width;\nuniform float height;\n\nvoid main() {\n    gl_FragColor = vec4(0, gl_FragCoord.x/width, gl_FragCoord.y/height, 1);\n}\n"],"names":["$079e9c9a48811350$export$ba60520149d1328e","$079e9c9a48811350$export$85b9a36db797e02b","length","$079e9c9a48811350$export$878041e1e4cd4218","flat","$af7455f1d906658d$exports","$cbe77ee65be13eb6$var$regl","$parcel$interopDefault","$9acea99a8bf860b0$exports","$cbe77ee65be13eb6$var$drawScreenTriangle","vert","prop","frag","attributes","position","uniforms","width","context","height","$cbe77ee65be13eb6$var$clear","color","depth","stencil","$cbe77ee65be13eb6$var$shaders","name","$cbe77ee65be13eb6$var$shader","$cbe77ee65be13eb6$var$frame","tick","t","poll","clear","s","console","log","$cbe77ee65be13eb6$var$draw","draw","document","addEventListener"],"version":3,"file":"index.c386fe65.js.map"}