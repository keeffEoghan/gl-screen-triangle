{"version":3,"sources":["../index.js","../index.vert.glsl","../uv-ndc.vert.glsl","../uv-texture.vert.glsl","../index.frag.glsl","../uv.frag.glsl","index.js"],"names":["positions","module","exports","shader","regl","vec2","drawScreenTriangle","vert","prop","frag","attributes","position","uniforms","width","context","height","count","length","clear","color","depth","stencil","shaders","name","vertNDC","fragUV","vertST","frame","t","tick","poll","s","console","log","draw","document","addEventListener"],"mappings":";;;;;AAeeA,aAAAA,OAAAA,eAAAA,QAAAA,aAAAA,CAAAA,OAAAA,IAAAA,QAAAA,QAAAA,QAAAA,eAAAA,EANR,IAAMA,EAAY,EACpB,GAAI,GACJ,EAAG,EACJ,GAAI,GAGOA,QAAAA,UAAAA,EAAAA,IAAAA,EAAAA,EAAAA,QAAAA,QAAAA;;ACffC,OAAOC,QAAQ;;ACAfD,OAAOC,QAAQ;;ACAfD,OAAOC,QAAQ;;ACAfD,OAAOC,QAAQ;;ACAfD,OAAOC,QAAQ;;ACsDX,aArDJ,IAAA,EAAA,EAAA,QAAA,SAGA,EAAA,EAAA,QAAA,QAGA,EAAA,EAAA,QAAA,uBACA,EAAA,EAAA,QAAA,wBACA,EAAA,EAAA,QAAA,4BAEA,EAAA,EAAA,QAAA,uBACA,EAAA,EAAA,QAAA,oBA0CI,SAAA,EAAA,GAAA,OAAA,GAAA,EAAA,WAAA,EAAA,CAAA,QAAA,GAxCJ,IAuBIC,EAvBEC,GAAO,EAAb,EAAA,WACMC,EAAO,GAEPC,EAAqBF,EAAK,CAC5BG,KAAMH,EAAKI,KAAK,QAChBC,KAAML,EAAKI,KAAK,QAChBE,WAAY,CAAEC,SAAUX,EAAAA,SACxBY,SAAU,CAENC,MAAOT,EAAKU,QAAQ,iBACpBC,OAAQX,EAAKU,QAAQ,mBAEzBE,MAAOhB,EAAUiB,QAAAA,OAAOZ,IAGtBa,EAAQ,CAAEC,MAAO,CAAC,EAAG,EAAG,EAAG,GAAIC,MAAO,EAAGC,QAAS,GAElDC,EAAU,CACZ,CAAEC,KAAM,SAAUhB,KAAMiB,EAAxB,QAAiCf,KAAMgB,EAAAA,SACvC,CAAEF,KAAM,aAAchB,KAAMmB,EAA5B,QAAoCjB,KAAMgB,EAAAA,SAC1C,CAAEF,KAAM,QAAShB,KAAAA,EAAjB,QAAuBE,KAAAA,EAAAA,UAK3B,SAASkB,EAAmB,GAALC,IAAAA,EAANC,EAAAA,KACbzB,EAAK0B,OACL1B,EAAKc,MAAMA,GAGLa,IAAAA,EAAIH,EAAEN,EAAQL,OAEpBd,EAASmB,EAAQS,GACjBC,QAAQC,IAAcF,UAAAA,OAAAA,EAAO5B,OAAAA,OAAAA,EAAOoB,KAASpB,KAAAA,GAC7CG,EAAmBH,GAGvB,IAAM+B,EAAO,WAAM9B,OAAAA,EAAK8B,KAAKP,IAE7BQ,SAASC,iBAAiB,QAASF,GACnCA","file":"example.7341accd.js","sourceRoot":"../example","sourcesContent":["/**\n * The flat array (3 vertices of a 2D triangle) to be bound as a WebGL attribute\n * buffer for rendering the triangle in the vertex shader.\n * These positions will result in clipped NDC coordinates in the range [-1, 1] over the\n * viewport's width and height.\n *\n * @export\n * @type {array.<number>}\n */\nexport const positions = [\n    -1, -1,\n    -1, 4,\n    4, -1\n];\n\nexport default positions;\n","module.exports=\"precision highp float;\\n#define GLSLIFY 1\\n\\nattribute vec2 position;\\n\\nvoid main() {\\n    gl_Position = vec4(position, 0, 1);\\n}\\n\";","module.exports=\"precision highp float;\\n#define GLSLIFY 1\\n\\nattribute vec2 position;\\n\\nvarying vec2 uv;\\n\\n// Flips the y-axis to point downwards.\\nconst vec2 flip = vec2(1, -1);\\n\\nvoid main() {\\n    uv = position*flip;\\n    gl_Position = vec4(position, 0, 1);\\n}\\n\";","module.exports=\"precision highp float;\\n#define GLSLIFY 1\\n\\nattribute vec2 position;\\n\\nvarying vec2 uv;\\n\\n// Translation for UV NDC to texture coordinates.\\nconst vec2 offset = vec2(0.5);\\n\\nvoid main() {\\n    uv = (position*0.5)+offset;\\n    gl_Position = vec4(position, 0, 1);\\n}\\n\";","module.exports=\"precision highp float;\\n#define GLSLIFY 1\\n\\nuniform float width;\\nuniform float height;\\n\\nvoid main() {\\n    gl_FragColor = vec4(0, gl_FragCoord.x/width, gl_FragCoord.y/height, 1);\\n}\\n\";","module.exports=\"precision highp float;\\n#define GLSLIFY 1\\n\\nvarying vec2 uv;\\n\\nvoid main() {\\n    gl_FragColor = vec4(uv, 0, 1);\\n}\\n\";","// Any rendering library, but made with `regl` in mind.\nimport getRegl from 'regl';\n\n// The position attributes.\nimport positions from '../';\n\n// The various shader examples.\nimport vert from '../index.vert.glsl';\nimport vertNDC from '../uv-ndc.vert.glsl';\nimport vertST from '../uv-texture.vert.glsl';\n\nimport frag from '../index.frag.glsl';\nimport fragUV from '../uv.frag.glsl';\n\nconst regl = getRegl();\nconst vec2 = 0.5;\n\nconst drawScreenTriangle = regl({\n    vert: regl.prop('vert'),\n    frag: regl.prop('frag'),\n    attributes: { position: positions },\n    uniforms: {\n        // These are only used for the `index.frag.glsl` shader.\n        width: regl.context('viewportWidth'),\n        height: regl.context('viewportHeight')\n    },\n    count: positions.length*vec2\n});\n\nconst clear = { color: [0, 0, 0, 1], depth: 1, stencil: 0 };\n\nconst shaders = [\n    { name: 'uv-ndc', vert: vertNDC, frag: fragUV },\n    { name: 'uv-texture', vert: vertST, frag: fragUV },\n    { name: 'index', vert, frag }\n];\n\nlet shader;\n\nfunction frame({ tick: t }) {\n    regl.poll();\n    regl.clear(clear);\n\n    // Switch shader every frame.\n    const s = t%shaders.length;\n\n    shader = shaders[s];\n    console.log(`Shader ${s}: '${shader.name}'`, shader);\n    drawScreenTriangle(shader);\n}\n\nconst draw = () => regl.draw(frame);\n\ndocument.addEventListener('click', draw);\ndraw();\n"]}